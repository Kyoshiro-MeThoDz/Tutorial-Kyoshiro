const translations = {
    'en': {
        // Traductions communes
        'return': 'Return',
        'identification': 'Connection',
        
        // Index page
        'index': {
            'welcome': 'Welcome to the Shadow Realm, Young <span class="ninja">Ninja</span>',
            'title': 'The <span class="ninja">Ninja\'s</span> Awakening',
            'subtitle': 'The Way of Six <span class="ninja">Katanas</span>',
            'start': 'Start',
            'menu': 'Menu'
        },
        
        // Menu page
        'menu': {
            'training_grounds': 'Your Journey Begins Here',
            'basic_title': 'Who am I?',
            'basic_desc': 'Come discover me',
            'advanced_title': 'Awakening Ninja Combo',
            'advanced_desc': 'PvE and PvP',
            'shadow_title': 'Ninja Secret Arts',
            'shadow_desc': 'The Way of Shinobi',
            'master_title': 'The Art of Shinobi Movement',
            'master_desc': 'Become a legend',
            'enter': 'Enter',
            'prev': '←',
            'next': '→',
            'select_menu': 'Please <span class="ninja">select</span> a menu'
        },
        
        // Presentation page
        'presentation': {
            'about_me': 'About <span class="ninja">Me</span>',
            'digital_ninja': '<span class="ninja">MeThoDz</span> Kyoshiro',
            'full_stack': 'Full Stack Developer',
            'my_journey': 'My <span class="ninja">Journey</span>',
            'journey_desc': 'Passionate about web development, I am currently in training to become a Full Stack Developer. I particularly enjoy front-end development and creating responsive, user-friendly interfaces. My goal is to continue learning and improving my skills in web development.',
            'years_exp': 'Years Experience',
            'projects': 'Preference',
            'clients': 'Best Known Language',
            'in_game': '<span class="ninja">In</span> Game',
            'in_real': '<span class="ninja">In</span> Real Life',
            'game_role': 'Guild  :  Main',
            'game_adventure': 'My <span class="ninja">Adventure</span>',
            'game_desc': 'Passionate about BDO and my ninja class that I main, I roam and progress through the game with the same goal since the beginning: improving my ninja gameplay, this class I\'ve become passionate about. I\'m often on Arsha and in Arena 1, don\'t hesitate to come challenge me!',
            'years_game': 'Years Experience',
            'gears': 'Gears',
            'console': 'Console'
        },
        
        // Secret Skills page
        'secretSkill': {
            'title': 'Ninja Secret Arts',
            'secret_arts': 'Secret <span class="ninja">Arts</span>',
            'smoke_trap': 'Smoke Trap',
            'fast_grab': 'Fast Grab',
            'combo_skills': 'Combo Skills',
            'close': 'Close',
            'buff_ap': 'Buff AP + Speed',
            'modal_title': 'Secret Technique',
            'combo_sequence': 'Key Sequence'
        },
        'title': 'Ninja Awakening Combo',
        'combo': 'Combo',
        'awakening': 'Awakening',
        'pve': 'PVE Combo',
        'pvp': 'PVP Combo',
        'sequence': 'Key Sequence',
        'close': 'Close',
        'modal_title': 'Combo Technique',
        'combo_sequence': 'Key Sequence',
        'close': 'Close',
        'movement': {
            'title': 'The Art of Shinobi Movement',
            'movement_arts': 'The Art of <span class="ninja">Movement</span>',
            'ghost_step': 'Ghost Step',
            'silent_charge': 'Silent Charge',
            'ninja_step': 'Ninja Step',
            'modal_title': 'Movement Technique',
            'combo_sequence': 'Key Sequence'
        }
    },
    'fr': {
        // Traductions communes
        'return': 'Retour',
        'identification': 'Connexion',
        
        // Index page
        'index': {
            'welcome': 'Bienvenue dans le Royaume des Ombres, Jeune <span class="ninja">Ninja</span>',
            'title': 'L\'Éveil du <span class="ninja">Ninja</span>',
            'subtitle': 'La Voie des 6 <span class="ninja">Katanas</span>',
            'start': 'Commencer',
            'menu': 'Menu'
        },
        
        // Menu page
        'menu': {
            'training_grounds': 'Votre Voyage Commence Ici',
            'basic_title': 'Qui suis-je ?',
            'basic_desc': 'Venez me découvrir',
            'advanced_title': 'Combo Ninja Éveil',
            'advanced_desc': 'PvE et PvP',
            'shadow_title': 'Les Arts Secrets du Ninja',
            'shadow_desc': 'La voie du Shinobi',
            'master_title': 'L\'art du mouvement chez Shinobi',
            'master_desc': 'Devenez une légende',
            'enter': 'Entrer',
            'prev': '←',
            'next': '→',
            'select_menu': 'Veuillez <span class="ninja">sélectionner</span> un menu'
        },
        
        // Presentation page
        'presentation': {
            'about_me': 'À Propos de <span class="ninja">Moi</span>',
            'digital_ninja': '<span class="ninja">MeThoDz</span> Kyoshiro',
            'full_stack': 'Full Stack Developer',
            'my_journey': 'Mon <span class="ninja">Parcours</span>',
            'journey_desc': 'Passionné par le développement web, je suis actuellement en formation pour devenir Développeur Full Stack. J\'apprécie particulièrement le développement front-end et la création d\'interfaces responsives et conviviales. Mon objectif est de continuer à apprendre et à améliorer mes compétences en développement web.',
            'years_exp': 'Années d\'Expérience',
            'projects': 'Préférence',
            'clients': 'Meilleur Language Connu',
            'in_game': '<span class="ninja">En</span> Jeux',
            'in_real': '<span class="ninja">En</span> Vrai',
            'game_role': 'Guild  :  Main',
            'game_adventure': 'Mon <span class="ninja">Aventure</span>',
            'game_desc': 'Passionné de BDO et par ma classe ninja que je main, j\'arpente et avance à travers le jeu avec le même but depuis le début : améliorer mon gameplay ninja, cette classe pour laquelle je me suis pris de passion. Je suis souvent sur Arsha et dans l\'arène 1, n\'hésite pas à venir me défier !',
            'years_game': 'Années d\'Expérience',
            'gears': 'Gears',
            'console': 'Console'
        },
        
        // Secret Skills page
        'secretSkill': {
            'title': 'Les Arts Secrets du Ninja',
            'secret_arts': 'Les Arts <span class="ninja">Secrets</span>',
            'smoke_trap': 'Smoke Trap',
            'fast_grab': 'Fast Grab',
            'combo_skills': 'Compétence du combo',
            'close': 'Fermer',
            'buff_ap': 'Buff AP + Speed',
            'modal_title': 'Technique Secrète',
            'combo_sequence': 'Séquence de touches'
        },
        'title': 'Combo Ninja Éveil',
        'combo': 'Combo',
        'awakening': 'Éveil',
        'pve': 'Combo PVE',
        'pvp': 'Combo PVP',
        'sequence': 'Séquence de touches',
        'close': 'Fermer',
        'modal_title': 'Technique de Combo',
        'combo_sequence': 'Séquence de touches',
        'close': 'Fermer',
        'movement': {
            'title': 'L\'art du mouvement chez Shinobi',
            'movement_arts': 'L\'art du <span class="ninja">Mouvement</span>',
            'ghost_step': 'Ghost Step',
            'silent_charge': 'Silent Charge',
            'ninja_step': 'Ninja Step',
            'modal_title': 'Technique de Mouvement',
            'combo_sequence': 'Séquence de touches'
        }
    },
    'de': {
        'return': 'Zurück',
        'identification': 'Anmeldung',
        
        'index': {
            'welcome': 'Willkommen im Schattenreich, junger <span class="ninja">Ninja</span>',
            'title': 'Das Erwachen des <span class="ninja">Ninja</span>',
            'subtitle': 'Der Weg der Sechs <span class="ninja">Katanas</span>',
            'start': 'Beginnen',
            'menu': 'Menü'
        },
        
        'menu': {
            'training_grounds': 'Ihre Reise Beginnt Hier',
            'basic_title': 'Wer bin ich?',
            'basic_desc': 'Komm und entdecke mich',
            'advanced_title': 'Erwachter Ninja Kombo',
            'advanced_desc': 'PvE und PvP',
            'shadow_title': 'Geheime Ninja-Künste',
            'shadow_desc': 'Der Weg des Shinobi',
            'master_title': 'Die Kunst der Shinobi-Bewegung',
            'master_desc': 'Werde eine Legende',
            'enter': 'Betreten',
            'prev': '←',
            'next': '→',
            'select_menu': 'Bitte <span class="ninja">wählen</span> Sie ein Menü'
        },
        
        'presentation': {
            'about_me': 'Über <span class="ninja">Mich</span>',
            'digital_ninja': '<span class="ninja">MeThoDz</span> Kyoshiro',
            'full_stack': 'Full Stack Developer',
            'my_journey': 'Meine <span class="ninja">Reise</span>',
            'journey_desc': 'Als Webentwicklung-Enthusiast befinde ich mich derzeit in der Ausbildung zum Full Stack Developer. Besonders begeistert bin ich von Front-End-Entwicklung und der Erstellung responsiver, benutzerfreundlicher Schnittstellen. Mein Ziel ist es, kontinuierlich zu lernen und meine Fähigkeiten in der Webentwicklung zu verbessern.',
            'years_exp': 'Jahre Erfahrung',
            'projects': 'Präferenz',
            'clients': 'Beste bekannte Sprache',
            'in_game': '<span class="ninja">Im</span> Spiel',
            'in_real': '<span class="ninja">Im</span> Leben',
            'game_role': 'Guild  :  Main',
            'game_adventure': 'Meine <span class="ninja">Abenteuer</span>',
            'game_desc': 'Leidenschaftlich für BDO und meine Ninja-Klasse, die ich main, durchstreife ich das Spiel mit dem gleichen Ziel seit Beginn: mein Ninja-Gameplay zu verbessern, diese Klasse, für die ich eine Leidenschaft entwickelt habe. Ich bin oft auf Arsha und in Arena 1, zögere nicht, mich herauszufordern!',
            'years_game': 'Jahre Erfahrung',
            'gears': 'Gears',
            'console': 'Console'
        },
        'title': 'Ninja Erwachen Combo',
        'combo': 'Combo',
        'awakening': 'Erwachen',
        'pve': 'PVE Combo',
        'pvp': 'PVP Combo',
        'sequence': 'Tastensequenz',
        'close': 'Schließen',
        'secretSkill': {
            'title': 'Geheime Ninja-Künste',
            'secret_arts': 'Geheime <span class="ninja">Künste</span>',
            'smoke_trap': 'Rauchfalle',
            'fast_grab': 'Schneller Griff',
            'combo_skills': 'Combo-Fähigkeiten',
            'close': 'Schließen',
            'buff_ap': 'Buff AP + Speed',
            'modal_title': 'Geheime Technik',
            'combo_sequence': 'Tastensequenz'
        },
        'modal_title': 'Combo-Technik',
        'combo_sequence': 'Tastensequenz',
        'close': 'Schließen'
    },
    'es': {
        'return': 'Volver',
        'identification': 'Conexión',
        
        'index': {
            'welcome': 'Bienvenido al Reino de las Sombras, joven <span class="ninja">Ninja</span>',
            'title': 'El Despertar del <span class="ninja">Ninja</span>',
            'subtitle': 'El Camino de las Seis <span class="ninja">Katanas</span>',
            'start': 'Comenzar',
            'menu': 'Menú'
        },
        
        'menu': {
            'training_grounds': 'Tu Viaje Comienza Aquí',
            'basic_title': '¿Quién soy?',
            'basic_desc': 'Ven a descubrirme',
            'advanced_title': 'Combo Ninja Despertar',
            'advanced_desc': 'PvE y PvP',
            'shadow_title': 'Artes Secretos del Ninja',
            'shadow_desc': 'El camino del Shinobi',
            'master_title': 'El arte del movimiento Shinobi',
            'master_desc': 'Conviértete en una leyenda',
            'enter': 'Entrar',
            'prev': '←',
            'next': '→',
            'select_menu': 'Por favor <span class="ninja">seleccione</span> un menú'
        },
        
        'presentation': {
            'about_me': 'Sobre <span class="ninja">Mí</span>',
            'digital_ninja': '<span class="ninja">MeThoDz</span> Kyoshiro',
            'full_stack': 'Full Stack Developer',
            'my_journey': 'Mi <span class="ninja">Camino</span>',
            'journey_desc': 'Apasionado por el desarrollo web, actualmente estoy en formación para convertirme en Desarrollador Full Stack. Disfruto especialmente del desarrollo front-end y la creación de interfaces responsivas y amigables. Mi objetivo es seguir aprendiendo y mejorando mis habilidades en desarrollo web.',
            'years_exp': 'Años de Experiencia',
            'projects': 'Preferencia',
            'clients': 'Mejor Lenguaje Conocido',
            'in_game': '<span class="ninja">En</span> Juego',
            'in_real': '<span class="ninja">En</span> Vida Real',
            'game_role': 'Guild  :  Main',
            'game_adventure': 'Mi <span class="ninja">Aventura</span>',
            'game_desc': 'Apasionado por BDO y mi clase ninja que main, recorro y avanzo por el juego con el mismo objetivo desde el principio: mejorar mi gameplay ninja, esta clase por la que me he apasionado. Estoy a menudo en Arsha y en la Arena 1, ¡no dudes en venir a desafiarme!',
            'years_game': 'Años de Experiencia',
            'gears': 'Gears',
            'console': 'Console'
        },
        'title': 'Combo Ninja Despertar',
        'combo': 'Combo',
        'awakening': 'Despertar',
        'pve': 'Combo PVE',
        'pvp': 'Combo PVP',
        'sequence': 'Secuencia de teclas',
        'close': 'Cerrar',
        'secretSkill': {
            'title': 'Artes Secretos del Ninja',
            'secret_arts': 'Artes <span class="ninja">Secretos</span>',
            'smoke_trap': 'Trampa de Humo',
            'fast_grab': 'Agarre Rápido',
            'combo_skills': 'Habilidades de Combo',
            'close': 'Cerrar',
            'buff_ap': 'Buff AP + Speed',
            'modal_title': 'Técnica Secreta',
            'combo_sequence': 'Secuencia de teclas'
        },
        'modal_title': 'Técnica de Combo',
        'combo_sequence': 'Secuencia de teclas',
        'close': 'Cerrar'
    },
    'ru': {
        'return': 'Назад',
        'identification': 'Вход',
        
        'index': {
            'welcome': 'Добро пожаловать в Царство Теней, молодой <span class="ninja">Ниндзя</span>',
            'title': 'Пробуждение <span class="ninja">Ниндзя</span>',
            'subtitle': 'Путь Шести <span class="ninja">Катан</span>',
            'start': 'Начать',
            'menu': 'Меню'
        },
        
        'menu': {
            'training_grounds': 'Ваше Путешествие Начинается Здесь',
            'basic_title': 'Кто я?',
            'basic_desc': 'Приходи и узнай меня',
            'advanced_title': 'Комбо Пробужденного Ниндзя',
            'advanced_desc': 'PvE и PvP',
            'shadow_title': 'Тайные Искусства Ниндзя',
            'shadow_desc': 'Путь Синоби',
            'master_title': 'Искусство движения Синоби',
            'master_desc': 'Стань легендой',
            'enter': 'Войти',
            'prev': '←',
            'next': '→',
            'select_menu': 'ожалуйста, <span class="ninja">выберите</span> меню'
        },
        
        'presentation': {
            'about_me': 'Об <span class="ninja">Мне</span>',
            'digital_ninja': '<span class="ninja">MeThoDz</span> Kyoshiro',
            'full_stack': 'Full Stack Developer',
            'my_journey': 'Мой <span class="ninja">Путь</span>',
            'journey_desc': 'Увлеченный веб-разработкой, я сейчас прохожу обучение, чтобы стать Full Stack разработчиком. Особенно мне нравится front-end разработка и создание отзывчивых, удобных интерфейсов. Моя цель - продолжать учиться и улучшать свои навыки в веб-разработке.',
            'years_exp': 'Лет Опыта',
            'projects': 'Предпочтение',
            'clients': 'Лучший Известный Язык',
            'in_game': '<span class="ninja">В</span> Игре',
            'in_real': '<span class="ninja">В</span> Жизни',
            'game_role': 'Guild  :  Main',
            'game_adventure': 'Моё <span class="ninja">Приключение</span>',
            'game_desc': 'Увлечённый BDO и моей классом ниндзя, которым я играю, я сследую игру с той же целью с самого начала: улучшить мой геймплей ниндзя, класс, которым я увлёкся. Я часто бываю на Arsha и на Арене 1, не стесняйтесь бросить мне вызов!',
            'years_game': 'Лет Опыта',
            'gears': 'Gears',
            'console': 'Console'
        },
        'title': 'Комбо Пробуждение Ниндзя',
        'combo': 'Комбо',
        'awakening': 'Пробуждение',
        'pve': 'PVE Комбо',
        'pvp': 'PVP Комбо',
        'sequence': 'Последовательность клавиш',
        'close': 'Закрыть',
        'secretSkill': {
            'title': 'Тайные Искусства Ниндзя',
            'secret_arts': 'Тайные <span class="ninja">Искусства</span>',
            'smoke_trap': 'Дымовая Ловушка',
            'fast_grab': 'Быстрый Захват',
            'combo_skills': 'Навыки Комбо',
            'close': 'Закрыть',
            'buff_ap': 'Buff AP + Speed',
            'modal_title': 'Секретная техника',
            'combo_sequence': 'Последователь��ость клавиш'
        },
        'modal_title': 'Техника Комбо',
        'combo_sequence': 'Последовательность клавиш',
        'close': 'Закрыть'
    }
};

function updateContent(lang) {
    const currentPage = getCurrentPage();
    
    // Mise à jour des éléments communs
    updateCommonElements(lang);
    
    // Mise à jour spécifique à chaque page
    switch(currentPage) {
        case 'index':
            updateIndexPage(lang);
            break;
        case 'menu':
            updateMenuPage(lang);
            break;
        case 'presentation':
            updatePresentationPage(lang);
            break;
        case 'secretSkill':
            updateSecretSkillPage(lang);
            break;
        case 'combo':
            updateComboPage(lang);
            break;
    }
}

function getCurrentPage() {
    const path = window.location.pathname;
    if (path.includes('menu')) return 'menu';
    if (path.includes('presentation')) return 'presentation';
    if (path.includes('secretSkill')) return 'secretSkill';
    if (path.includes('combo')) return 'combo';
    return 'index';
}

function updateCommonElements(lang) {
    const returnBtn = document.querySelector('.menu-style-btn');
    if (returnBtn) returnBtn.textContent = translations[lang].return;
}

// Fonctions spécifiques pour chaque page
function updateIndexPage(lang) {
    const t = translations[lang].index;
    
    // Mise à jour des éléments de la page d'index
    if (document.querySelector('.welcome-text')) {
        document.querySelector('.welcome-text').innerHTML = t.welcome;
        document.querySelector('h1').innerHTML = t.title;
        document.querySelector('.subtitle').innerHTML = t.subtitle;
        document.querySelector('.start-link').textContent = t.start;
        document.querySelector('#menuBtn').textContent = t.menu;
    }
}

function updateMenuPage(lang) {
    const t = translations[lang].menu;
    
    // Mise à jour des titres et descriptions
    if (document.querySelector('.basic-title')) {
        document.querySelector('.basic-title').textContent = t.basic_title;
        document.querySelector('.basic-desc').textContent = t.basic_desc;
        document.querySelector('.advanced-title').textContent = t.advanced_title;
        document.querySelector('.advanced-desc').textContent = t.advanced_desc;
        document.querySelector('.shadow-title').textContent = t.shadow_title;
        document.querySelector('.shadow-desc').textContent = t.shadow_desc;
        document.querySelector('.master-title').textContent = t.master_title;
        document.querySelector('.master-desc').textContent = t.master_desc;

        // Boutons
        document.querySelectorAll('.card-btn').forEach(btn => {
            btn.textContent = t.enter;
        });
        document.querySelector('.prev-btn').textContent = t.prev;
        document.querySelector('.next-btn').textContent = t.next;
        document.querySelector('.menu-style-btn').textContent = translations[lang].return;
        document.querySelector('h1').textContent = t.training_grounds;
    }

    if (document.querySelector('.subtitle-menu')) {
        document.querySelector('.subtitle-menu').innerHTML = t.select_menu;
    }
}

function updatePresentationPage(lang) {
    const t = translations[lang].presentation;
    
    // Mise à jour des titres et contenus
    if (document.querySelector('.presentation-content')) {
        // Titre principal et nom
        document.querySelector('h1').innerHTML = t.about_me;
        document.querySelector('.profile-info h2').innerHTML = t.digital_ninja;
        
        // Boutons de navigation
        document.querySelectorAll('.profile-btn')[0].innerHTML = t.in_game;
        document.querySelectorAll('.profile-btn')[1].innerHTML = t.in_real;

        // Section En Jeux
        const gameContent = document.querySelector('.game-content');
        if (gameContent) {
            gameContent.querySelector('.role').textContent = t.game_role;
            gameContent.querySelector('.description-section p').textContent = t.game_desc;
            gameContent.querySelector('.description-section h3').innerHTML = t.game_adventure;
            
            const gameStats = gameContent.querySelector('.stats');
            if (gameStats) {
                gameStats.querySelectorAll('.stat-label')[0].textContent = t.years_game;
                gameStats.querySelectorAll('.stat-label')[1].textContent = t.gears;
                gameStats.querySelectorAll('.stat-label')[2].textContent = t.console;
            }
        }

        // Section En Vrai
        const realContent = document.querySelector('.real-content');
        if (realContent) {
            realContent.querySelector('.role').textContent = t.full_stack;
            realContent.querySelector('.description-section h3').innerHTML = t.my_journey;
            realContent.querySelector('.description-section p').textContent = t.journey_desc;
            
            const realStats = realContent.querySelector('.stats');
            if (realStats) {
                realStats.querySelectorAll('.stat-label')[0].textContent = t.years_exp;
                realStats.querySelectorAll('.stat-label')[1].textContent = t.projects;
                realStats.querySelectorAll('.stat-label')[2].textContent = t.clients;
            }
        }
    }
}

function updateSecretSkillPage(lang) {
    const t = translations[lang].secretSkill;
    
    // Mettre à jour le titre de la page
    document.title = t.title;
    
    // Mettre à jour tous les éléments avec data-lang
    document.querySelectorAll('[data-lang]').forEach(element => {
        const key = element.getAttribute('data-lang');
        // Vérifier si c'est le bouton de retour
        if (element.classList.contains('menu-style-btn') && key === 'return') {
            element.textContent = translations[lang].return;
        } else if (t[key]) {
            element.innerHTML = t[key];
        }
    });
}

function updateComboPage(lang) {
    const t = translations[lang];
    
    // Mettre à jour le titre de la page
    document.title = t.title;
    
    // Mettre à jour les éléments avec data-lang
    document.querySelectorAll('[data-lang]').forEach(element => {
        const key = element.getAttribute('data-lang');
        if (t[key]) {
            element.innerHTML = t[key];
        }
    });
}

// Assurez-vous que ces lignes sont présentes au début du fichier
document.addEventListener('DOMContentLoaded', function() {
    // Charger la langue sauvegardée ou utiliser l'anglais par défaut
    const savedLang = localStorage.getItem('selectedLanguage') || 'en';
    document.getElementById('langSelect').value = savedLang;
    updateContent(savedLang);
});

function changeLanguage(lang) {
    localStorage.setItem('selectedLanguage', lang);
    updateContent(lang);
}